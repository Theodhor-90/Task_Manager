{"verdict":"needs_revision","feedback":"The plan-v1.md file does not contain an actual implementation plan. It contains only a 9-line meta-description (\"I've prepared the complete implementation plan for Task 6...\") summarizing what the plan *would* cover, but none of the actual plan content was written to the file.\n\nThe plan must be rewritten to include the full implementation details, following the established format used by previous tasks (e.g., t05/plan-v1.md). Specifically, the plan must include these sections:\n\n1. **Deliverables table** — List the files to create/modify with action and purpose.\n\n2. **Dependencies** — Confirm all dependencies are present with file paths and line numbers:\n   - `labels: Label[]` from `useBoard()` (board-context.tsx line 46)\n   - `updateTask` from `useBoard()` (board-context.tsx line 43)\n   - `UpdateTaskInput.labels?: string[]` (tasks.ts line 19)\n   - Existing `TaskDetailPanel` (task-detail-panel.tsx) — note the current metadata section layout (grid grid-cols-2 at line 311) and where the LabelPicker should be integrated\n   - Task 7 (LabelManager) dependency for the \"Manage labels\" link\n\n3. **Implementation Details** — For each deliverable, show:\n   - **label-picker.tsx (new file)**: Full component code including: LabelPicker props interface (`taskId`, `labels`, `onUpdate`), dropdown/popover state management, click-outside-to-close handler, rendering of project labels from `useBoard().labels` as rows with colored circle + name + checkbox, toggle handler that computes the updated labels array and calls `updateTask(taskId, { labels: updatedArray })` then invokes `onUpdate`, and the \"Manage labels\" link/placeholder for Task 7.\n   - **task-detail-panel.tsx (modified)**: Show the exact current code being changed and the replacement code — specifically how to integrate `LabelPicker` into the metadata section (currently a 2-column grid for priority and due date at lines 311-363). Decide whether to make it a 3-column grid, add a new row, or place labels in a separate section. Show the import addition and the JSX integration with the `onUpdate` callback wiring (`onUpdate={(updatedTask) => setTask(updatedTask)}`).\n\n4. **Contracts** — Document the LabelPicker props interface, context dependencies, and rendering behavior for key states (no labels, some checked, all checked, empty project labels list).\n\n5. **Test Plan** — Detailed test cases for label-picker.test.tsx:\n   - Renders a trigger button/section in the detail panel\n   - Opens dropdown on click showing all project labels\n   - Checked checkboxes match task's current labels\n   - Toggling a checkbox on calls updateTask with label added to array\n   - Toggling a checkbox off calls updateTask with label removed from array\n   - Calls onUpdate with the updated task after successful API call\n   - Closes dropdown when clicking outside\n   - Shows \"Manage labels\" link\n   - Handles empty project labels list gracefully\n   - Also specify updates needed for task-detail-panel.test.tsx to account for the new LabelPicker integration (mock setup adjustments)\n\n6. **Implementation Order** — Step-by-step numbered list.\n\n7. **Verification Commands** — TypeScript compilation check, test suite commands."}